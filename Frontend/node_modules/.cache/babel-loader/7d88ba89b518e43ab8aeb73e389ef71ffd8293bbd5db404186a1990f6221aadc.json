{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\karth\\\\Desktop\\\\states\\\\Frontend\\\\src\\\\Components\\\\PayPalButton\\\\PaypalButton.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { PayPalButtons, PayPalScriptProvider, usePayPalScriptReducer } from '@paypal/react-paypal-js';\nimport { newOrder, pay } from '../../Services/OrderService';\nimport React, { useEffect } from 'react';\nimport { useCart } from '../../hooks/UseCart';\nimport { toast } from 'react-toastify';\nimport { createOrder as getId } from '../../Services/OrderService';\nimport { useNavigate } from 'react-router-dom';\nimport { Loading } from '../../hooks/Loading';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PaypalButton = ({\n  order,\n  id\n}) => {\n  _s();\n  useEffect(() => {\n    const getOrder = async () => {\n      try {\n        const data = await fetchOrder(orderId);\n        setOrder(data);\n      } catch (error) {\n        console.error('Error fetching order:', error);\n      }\n    };\n    getOrder();\n  }, [orderId]);\n  return /*#__PURE__*/_jsxDEV(PayPalScriptProvider, {\n    options: {\n      clientId: 'AermEgBAhYi06j-B5SMfLFVB8CBHjNCFhd03xi7c5bFQT0r6zmRptAxm-F7E9cXtEiObrChmRzOhjs5z'\n    },\n    children: /*#__PURE__*/_jsxDEV(Buttons, {\n      order: order,\n      id: id\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 5\n  }, this);\n};\n_s(PaypalButton, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c = PaypalButton;\nexport default PaypalButton;\nfunction Buttons({\n  order,\n  id\n}) {\n  _s2();\n  const {\n    clearCart\n  } = useCart();\n  const navigate = useNavigate();\n  const [{\n    isPending\n  }] = usePayPalScriptReducer();\n  const {\n    showLoading,\n    hideLoading\n  } = Loading();\n  useEffect(() => {\n    isPending ? showLoading() : hideLoading();\n  }, [isPending, showLoading, hideLoading]);\n  const createOrder = (data, actions) => {\n    return actions.order.create({\n      purchase_units: [{\n        amount: {\n          currency_code: 'USD',\n          value: order.totalPrice.toString()\n        }\n      }]\n    });\n  };\n  const onApprove = async (data, actions) => {\n    try {\n      const payment = await actions.order.capture();\n      await newOrder({\n        name: name,\n        address: addressState,\n        cart_items: order.cart_items,\n        total_price: order.total_price,\n        addressLatLng: order.addressLatLng\n      });\n      clearCart();\n      toast.success('Payment Saved Successfully', 'Success');\n      navigate('/track/' + orderId);\n    } catch (error) {\n      toast.error('Payment Saved Failed', 'Error');\n    }\n  };\n  const onError = err => {\n    toast.error('Payment Failed', 'Error');\n  };\n  return /*#__PURE__*/_jsxDEV(PayPalButtons, {\n    createOrder: createOrder,\n    onApprove: onApprove,\n    onError: onError\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 5\n  }, this);\n}\n_s2(Buttons, \"+1aDsMSJoPVbbuUacbRuQhaol9E=\", false, function () {\n  return [useCart, useNavigate, usePayPalScriptReducer];\n});\n_c2 = Buttons;\nvar _c, _c2;\n$RefreshReg$(_c, \"PaypalButton\");\n$RefreshReg$(_c2, \"Buttons\");","map":{"version":3,"names":["PayPalButtons","PayPalScriptProvider","usePayPalScriptReducer","newOrder","pay","React","useEffect","useCart","toast","createOrder","getId","useNavigate","Loading","jsxDEV","_jsxDEV","PaypalButton","order","id","_s","getOrder","data","fetchOrder","orderId","setOrder","error","console","options","clientId","children","Buttons","fileName","_jsxFileName","lineNumber","columnNumber","_c","_s2","clearCart","navigate","isPending","showLoading","hideLoading","actions","create","purchase_units","amount","currency_code","value","totalPrice","toString","onApprove","payment","capture","name","address","addressState","cart_items","total_price","addressLatLng","success","onError","err","_c2","$RefreshReg$"],"sources":["C:/Users/karth/Desktop/states/Frontend/src/Components/PayPalButton/PaypalButton.js"],"sourcesContent":["import { PayPalButtons, PayPalScriptProvider, usePayPalScriptReducer } from '@paypal/react-paypal-js';\r\nimport { newOrder, pay } from '../../Services/OrderService';\r\nimport React, { useEffect } from 'react';\r\nimport { useCart } from '../../hooks/UseCart';\r\nimport { toast } from 'react-toastify';\r\nimport { createOrder as getId } from '../../Services/OrderService';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { Loading } from '../../hooks/Loading';\r\n\r\nconst PaypalButton = ({ order, id }) => {\r\n \r\n\r\n  useEffect(() => {\r\n    const getOrder = async () => {\r\n      try {\r\n        const data = await fetchOrder(orderId);\r\n        setOrder(data);\r\n      } catch (error) {\r\n        console.error('Error fetching order:', error);\r\n      }\r\n    };\r\n\r\n    getOrder();\r\n  }, [orderId]);\r\n  return (\r\n    <PayPalScriptProvider\r\n      options={{\r\n        clientId: 'AermEgBAhYi06j-B5SMfLFVB8CBHjNCFhd03xi7c5bFQT0r6zmRptAxm-F7E9cXtEiObrChmRzOhjs5z'\r\n      }}\r\n    >\r\n      <Buttons order={order} id={id} />\r\n    </PayPalScriptProvider>\r\n  );\r\n};\r\n\r\nexport default PaypalButton;\r\n\r\nfunction Buttons({ order, id }) {\r\n  const { clearCart } = useCart();\r\n  const navigate = useNavigate();\r\n  const [{ isPending }] = usePayPalScriptReducer();\r\n  const { showLoading, hideLoading } = Loading();\r\n\r\n  useEffect(() => {\r\n    isPending ? showLoading() : hideLoading();\r\n  }, [isPending, showLoading, hideLoading]);\r\n\r\n  const createOrder = (data, actions) => {\r\n    return actions.order.create({\r\n      purchase_units: [{\r\n        amount: {\r\n          currency_code: 'USD',\r\n          value: order.totalPrice.toString(),\r\n        },\r\n      }],\r\n    });\r\n  };\r\n\r\n  const onApprove = async (data, actions) => {\r\n    try {\r\n      const payment = await actions.order.capture();\r\n      await newOrder({\r\n        name: name,\r\n        address: addressState,\r\n        cart_items: order.cart_items,\r\n        total_price: order.total_price,\r\n        addressLatLng: order.addressLatLng,\r\n      });\r\n      clearCart();\r\n      toast.success('Payment Saved Successfully', 'Success');\r\n      navigate('/track/' + orderId);\r\n    } catch (error) {\r\n      toast.error('Payment Saved Failed', 'Error');\r\n    }\r\n  };\r\n\r\n  const onError = (err) => {\r\n    toast.error('Payment Failed', 'Error');\r\n  };\r\n\r\n  return (\r\n    <PayPalButtons\r\n      createOrder={createOrder}\r\n      onApprove={onApprove}\r\n      onError={onError}\r\n    />\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}